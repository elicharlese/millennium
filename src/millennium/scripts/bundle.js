"use strict";var Millennium=(()=>{var U=Object.defineProperty,be=Object.defineProperties,Pe=Object.getOwnPropertyDescriptor,xe=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertyNames,ae=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var K=(i,e,n)=>e in i?U(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,p=(i,e)=>{for(var n in e||(e={}))le.call(e,n)&&K(i,n,e[n]);if(ae)for(var n of ae(e))_e.call(e,n)&&K(i,n,e[n]);return i},w=(i,e)=>be(i,xe(e));var c=(i,e)=>{for(var n in e)U(i,n,{get:e[n],enumerable:!0})},Te=(i,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ve(e))!le.call(i,s)&&s!==n&&U(i,s,{get:()=>e[s],enumerable:!(t=Pe(e,s))||t.enumerable});return i};var Me=i=>Te(U({},"__esModule",{value:!0}),i);var u=(i,e,n)=>(K(i,typeof e!="symbol"?e+"":e,n),n);var Qi={};c(Qi,{BaseDirectory:()=>C,LogicalPosition:()=>O,LogicalSize:()=>A,PhysicalPosition:()=>x,PhysicalSize:()=>P,UserAttentionType:()=>X,WebviewWindow:()=>f,app:()=>R,appWindow:()=>L,cli:()=>v,clipboard:()=>D,commandLine:()=>v,dialog:()=>z,event:()=>W,fileSystem:()=>M,fs:()=>M,getAssetUri:()=>ue,globalShortcut:()=>H,http:()=>G,invoke:()=>I,millennium:()=>N,notification:()=>V,os:()=>B,path:()=>Y,platform:()=>k,process:()=>j,shell:()=>$,transformCallback:()=>g,updater:()=>J,window:()=>E,windows:()=>E});var R={};c(R,{getMillenniumVersion:()=>Fe,getName:()=>Ee,getVersion:()=>Oe});var N={};c(N,{getAssetUri:()=>ue,invoke:()=>I,transformCallback:()=>g});var k={};c(k,{isLinux:()=>Q,isMacOS:()=>Z,isWindows:()=>y});function Q(){var i,e;return/linux/i.test((e=(i=navigator.userAgentData)==null?void 0:i.platform)!=null?e:navigator.userAgent)}function y(){var i,e;return/win/i.test((e=(i=navigator.userAgentData)==null?void 0:i.platform)!=null?e:navigator.userAgent)}function Z(){var i,e;return/macintosh/i.test((e=(i=navigator.userAgentData)==null?void 0:i.platform)!=null?e:navigator.userAgent)}function Ae(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function g(i,e=!1){let n=Ae(),t=`_${n}`;return Object.defineProperty(window,t,{value:s=>(e&&delete window[t],i==null?void 0:i(s)),writable:!0,enumerable:!1,configurable:!0}),n}async function I(i,e={}){return new Promise((n,t)=>{let s=g(l=>{n(l),delete window[`_${a}`]},!0),a=g(l=>{t(new Error(l)),delete window[`_${s}`]},!0);window.__MILLENNIUM_IPC__(p({cmd:i,callback:s,error:a},e))})}function ue(i,e="asset"){let n=encodeURIComponent(i);return y()?`https://${e}.localhost/${n}`:`${e}://${n}`}async function r(i){return I("millennium",i)}async function Oe(){return r({__millenniumModule:"App",message:{cmd:"getAppVersion"}})}async function Ee(){return r({__millenniumModule:"App",message:{cmd:"getAppName"}})}async function Fe(){return r({__millenniumModule:"App",message:{cmd:"getMillenniumVersion"}})}var v={};c(v,{getMatches:()=>Ce});async function Ce(){return await r({__millenniumModule:"Cli",message:{cmd:"cliMatches"}})}var D={};c(D,{readText:()=>Le,writeText:()=>Se});async function Se(i){return r({__millenniumModule:"Clipboard",message:{cmd:"writeText",data:i}})}async function Le(){return r({__millenniumModule:"Clipboard",message:{cmd:"readText",data:null}})}var z={};c(z,{ask:()=>Ne,confirm:()=>Re,message:()=>Ie,open:()=>Ue,save:()=>ke});async function Ue(i={}){return typeof i=="object"&&Object.freeze(i),await r({__millenniumModule:"Dialog",message:{cmd:"openDialog",options:i}})}async function ke(i={}){return typeof i=="object"&&Object.freeze(i),await r({__millenniumModule:"Dialog",message:{cmd:"saveDialog",options:i}})}async function Ie(i,e){var t;let n=typeof e=="string"?{title:e}:e;return await r({__millenniumModule:"Dialog",message:{cmd:"messageDialog",message:i.toString(),title:(t=n==null?void 0:n.title)==null?void 0:t.toString(),type:n==null?void 0:n.type}})}async function Ne(i,e){var t;let n=typeof e=="string"?{title:e}:e;return await r({__millenniumModule:"Dialog",message:{cmd:"askDialog",message:i.toString(),title:(t=n==null?void 0:n.title)==null?void 0:t.toString(),type:n==null?void 0:n.type}})}async function Re(i,e){var t;let n=typeof e=="string"?{title:e}:e;return await r({__millenniumModule:"Dialog",message:{cmd:"confirmDialog",message:i.toString(),title:(t=n==null?void 0:n.title)==null?void 0:t.toString(),type:n==null?void 0:n.type}})}var W={};c(W,{emit:()=>_,listen:()=>T,once:()=>F});async function me(i,e){return r({__millenniumModule:"Event",message:{cmd:"unlisten",event:i,eventId:e}})}async function _(i,e,n){await r({__millenniumModule:"Event",message:{cmd:"emit",event:i,windowLabel:e,payload:typeof n=="string"?n:JSON.stringify(n)}})}async function T(i,e,n){let t=await r({__millenniumModule:"Event",message:{cmd:"listen",event:i,windowLabel:e,handler:g(n)}});return async()=>me(i,t)}async function F(i,e,n){return T(i,e,t=>{n(t),me(i,t.id).catch(()=>{})})}var M={};c(M,{BaseDirectory:()=>C,copyFile:()=>Ge,exists:()=>Ye,mkdir:()=>He,readBinaryFile:()=>pe,readFile:()=>De,readTextFile:()=>ce,readdir:()=>We,removeFile:()=>Ve,rename:()=>Be,rmdir:()=>qe,writeBinaryFile:()=>ee,writeFile:()=>ze,writeTextFile:()=>de});var C=(o=>(o[o.AUDIO=1]="AUDIO",o[o.CACHE=2]="CACHE",o[o.CONFIG=3]="CONFIG",o[o.DATA=4]="DATA",o[o.LOCALDATA=5]="LOCALDATA",o[o.DESKTOP=6]="DESKTOP",o[o.DOCUMENT=7]="DOCUMENT",o[o.DOWNLOAD=8]="DOWNLOAD",o[o.EXECUTABLE=9]="EXECUTABLE",o[o.FONT=10]="FONT",o[o.HOME=11]="HOME",o[o.PICTURES=12]="PICTURES",o[o.PUBLIC=13]="PUBLIC",o[o.RUNTIME=14]="RUNTIME",o[o.TEMPLATES=15]="TEMPLATES",o[o.VIDEOS=16]="VIDEOS",o[o.RESOURCE=17]="RESOURCE",o[o.APP=18]="APP",o[o.LOG=19]="LOG",o[o.TEMP=20]="TEMP",o))(C||{});async function ce(i,e={}){return await r({__millenniumModule:"Fs",message:{cmd:"readTextFile",path:i,options:e}})}async function pe(i,e={}){return await r({__millenniumModule:"Fs",message:{cmd:"readFile",path:i,options:e}})}async function De(i,e,n={}){switch(typeof e!="string"&&(n=e,e="binary"),e){case"utf8":case"utf-8":return await ce(i,n);case"binary":return await pe(i,n);default:throw new Error(`Unsupported encoding: '${e}'. Consider reading as binary and using \`TextDecoder\`.`)}}async function de(i,e,n){let t={path:"",contents:""},s=n;return typeof i=="string"?t.path=i:(t.path=i.path,t.contents=i.contents),typeof e=="string"?t.contents=e!=null?e:"":s=e,await r({__millenniumModule:"Fs",message:{cmd:"writeTextFile",path:t.path,contents:Array.from(new TextEncoder().encode(t.contents)),options:s}})}async function ee(i,e,n){let t={path:"",contents:[]},s=n;return typeof i=="string"?t.path=i:(t.path=i.path,t.contents=i.contents),e&&"dir"in e?s=e:typeof i=="string"&&(t.contents=e!=null?e:[]),await r({__millenniumModule:"Fs",message:{cmd:"writeFile",path:t.path,contents:Array.from(t.contents instanceof ArrayBuffer||t.contents instanceof SharedArrayBuffer?new Uint8Array(t.contents):t.contents),options:s}})}async function ze(i,e,n){if(typeof e=="string")return await de({path:i,contents:e},n);if(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer)return await ee({path:i,contents:Array.from(new Uint8Array(e))},n);if([DataView,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array].some(t=>e instanceof t)||typeof Float64Array<"u"&&e instanceof Float64Array||typeof BigInt64Array<"u"&&e instanceof BigInt64Array||typeof BigUint64Array<"u"&&e instanceof BigUint64Array)return await ee({path:i,contents:Array.from(new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)))},n);throw new Error(`Unsupported contents type: '${{}.toString.call(e)}'.`)}var b=(i,e)=>r({__millenniumModule:"Fs",message:p({cmd:i},e)});async function We(i,e={}){return await b("readDir",{path:i,options:e})}async function He(i,e={}){return await b("createDir",{path:i,options:e})}async function qe(i,e={}){return await b("removeDir",{path:i,options:e})}async function Ge(i,e,n={}){return await b("copyFile",{source:i,destination:e,options:n})}async function Ve(i,e={}){return await b("removeFile",{path:i,options:e})}async function Be(i,e,n={}){return await b("rename",{oldPath:i,newPath:e,options:n})}async function Ye(i,e={}){return await b("exists",{path:i,options:e})}var H={};c(H,{isRegistered:()=>Je,register:()=>je,registerAll:()=>$e,unregister:()=>Xe,unregisterAll:()=>Ke});async function je(i,e){return await r({__millenniumModule:"GlobalShortcut",message:{cmd:"register",shortcut:i,handler:g(e)}})}async function $e(i,e){return await r({__millenniumModule:"GlobalShortcut",message:{cmd:"registerAll",shortcuts:i,handler:g(e)}})}async function Je(i){return await r({__millenniumModule:"GlobalShortcut",message:{cmd:"isRegistered",shortcut:i}})}async function Xe(i){return await r({__millenniumModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:i}})}async function Ke(){return await r({__millenniumModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}var G={};c(G,{Body:()=>h,Response:()=>q,ResponseType:()=>ge,createClient:()=>fe,fetch:()=>Qe});var ge=(t=>(t[t.JSON=1]="JSON",t[t.TEXT=2]="TEXT",t[t.BINARY=3]="BINARY",t))(ge||{}),h=class{constructor(e,n){this.type=e;this.payload=n}static form(e){let n={};for(let t in e){let s=e[t];n[t]=typeof s=="string"?s:s instanceof Uint8Array||Array.isArray(s)?Array.from(s):typeof s.file=="string"?{file:s.file,mime:s.mime,fileName:s.fileName}:{file:Array.from(s.file),mime:s.mime,fileName:s.fileName}}return new h("Form",n)}static json(e){return new h("Json",e)}static text(e){return new h("Text",e)}static binary(e){return new h("Bytes",Array.from(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?new Uint8Array(e):e))}},q=class{constructor(e){u(this,"url");u(this,"status");u(this,"ok");u(this,"headers");u(this,"rawHeaders");u(this,"data");this.url=e.url,this.status=e.status,this.ok=e.status>=200&&e.status<300,this.headers=e.headers,this.rawHeaders=e.rawHeaders,this.data=e.data}},ne=class{constructor(e){this.id=e}async drop(){return r({__millenniumModule:"Http",message:{cmd:"dropClient",client:this.id}})}async request(e){let n=!e.responseType||e.responseType===1;n&&(e.responseType=2);let t=await r({__millenniumModule:"Http",message:{cmd:"httpRequest",client:this.id,options:e}}),s=new q(t);if(n)try{s.data=JSON.parse(s.data)}catch(a){if(s.ok&&s.data==="")s.data={};else if(s.ok)throw new Error(`Failed to parse response body (\`${s.data}\`): ${a}
Try setting the responseType to a different type if the API doesn't return JSON.`)}return s}async get(e,n){return this.request(w(p({},n),{method:"GET",url:e}))}async post(e,n,t){return this.request(w(p({},t),{method:"POST",body:n,url:e}))}async put(e,n,t){return this.request(w(p({},t),{method:"PUT",body:n,url:e}))}async patch(e,n){return this.request(w(p({},n),{method:"PATCH",url:e}))}async delete(e,n){return this.request(w(p({},n),{method:"DELETE",url:e}))}};async function fe(i){let e=await r({__millenniumModule:"Http",message:{cmd:"createClient",options:i}});return new ne(e)}var ie=null;async function Qe(i,e){var n;return ie||(ie=await fe()),ie.request(w(p({},e),{url:i,method:(n=e==null?void 0:e.method)!=null?n:"GET"}))}var V={};c(V,{isPermissionGranted:()=>Ze,requestPermission:()=>ei,sendNotification:()=>ii});async function Ze(){return window.Notification.permission!=="default"?Promise.resolve(window.Notification.permission==="granted"):r({__millenniumModule:"Notification",message:{cmd:"isNotificationPermissionGranted"}})}async function ei(){return window.Notification.requestPermission()}function ii(i){return typeof i=="string"?new window.Notification(i):new window.Notification(i.title,i)}var B={};c(B,{arch:()=>oi,eol:()=>ni,platform:()=>ti,tmpdir:()=>ai,type:()=>si,version:()=>ri});var ni=y()?`\r
`:`
`;async function ti(){return r({__millenniumModule:"Os",message:{cmd:"platform"}})}async function ri(){return r({__millenniumModule:"Os",message:{cmd:"version"}})}async function si(){return r({__millenniumModule:"Os",message:{cmd:"type"}})}async function oi(){return r({__millenniumModule:"Os",message:{cmd:"arch"}})}async function ai(){return r({__millenniumModule:"Os",message:{cmd:"tempdir"}})}var Y={};c(Y,{appDir:()=>li,audioDir:()=>ui,basename:()=>Ii,cacheDir:()=>mi,configDir:()=>ci,dataDir:()=>pi,delimiter:()=>Ei,desktopDir:()=>di,dirname:()=>Ui,documentsDir:()=>gi,downloadsDir:()=>fi,executableDir:()=>yi,extname:()=>ki,fontDir:()=>hi,homeDir:()=>wi,isAbsolute:()=>Ni,join:()=>Li,localDataDir:()=>bi,logDir:()=>Ai,normalize:()=>Si,pictureDir:()=>Pi,publicDir:()=>xi,resolve:()=>Fi,resolveResource:()=>Ci,resourceDir:()=>vi,runtimeDir:()=>_i,sep:()=>Oi,templateDir:()=>Ti,videosDir:()=>Mi});var m=async i=>await r({__millenniumModule:"Path",message:{cmd:"resolvePath",path:"",directory:i}});async function li(){return m(18)}async function ui(){return m(1)}async function mi(){return m(2)}async function ci(){return m(3)}async function pi(){return m(4)}async function di(){return m(6)}async function gi(){return m(7)}async function fi(){return m(8)}async function yi(){return m(9)}async function hi(){return m(10)}async function wi(){return m(11)}async function bi(){return m(5)}async function Pi(){return m(12)}async function xi(){return m(13)}async function vi(){return m(17)}async function _i(){return m(14)}async function Ti(){return m(15)}async function Mi(){return m(16)}async function Ai(){return m(19)}var Oi=y()?"\\":"/",Ei=y()?";":":";async function Fi(...i){return r({__millenniumModule:"Path",message:{cmd:"resolve",paths:i}})}async function Ci(i){return r({__millenniumModule:"Path",message:{cmd:"resolvePath",path:i,directory:17}})}async function Si(i){return r({__millenniumModule:"Path",message:{cmd:"normalize",path:i}})}async function Li(...i){return r({__millenniumModule:"Path",message:{cmd:"join",paths:i}})}async function Ui(i){return r({__millenniumModule:"Path",message:{cmd:"dirname",path:i}})}async function ki(i){return r({__millenniumModule:"Path",message:{cmd:"extname",path:i}})}async function Ii(i,e){return r({__millenniumModule:"Path",message:{cmd:"basename",path:i,ext:e}})}async function Ni(i){return r({__millenniumModule:"Path",message:{cmd:"isAbsolute",path:i}})}var j={};c(j,{exit:()=>Ri,relaunch:()=>Di});async function Ri(i=0){await r({__millenniumModule:"Process",message:{cmd:"exit",exitCode:i}})}async function Di(){await r({__millenniumModule:"Process",message:{cmd:"relaunch"}})}var $={};c($,{Command:()=>d,exec:()=>Hi,execSidecar:()=>qi,open:()=>Wi,showItemInFolder:()=>Bi,spawn:()=>Gi,spawnSidecar:()=>Vi});async function zi(i,e,n=[],t){return typeof n=="object"&&Object.freeze(n),r({__millenniumModule:"Shell",message:{cmd:"execute",program:e,args:n,options:t,onEventFn:g(i)}})}var S=class{constructor(){u(this,"eventListeners",new Map)}addEventListener(e,n){return this.eventListeners.has(e)?this.eventListeners.get(e).push(n):this.eventListeners.set(e,[n]),this}removeEventListener(e,n){if(this.eventListeners.has(e)){let t=this.eventListeners.get(e),s=t.indexOf(n);s>=0&&t.splice(s,1)}return this}on(e,n){return this.addEventListener(e,n)}off(e,n){return this.removeEventListener(e,n)}once(e,n){let t=s=>{n(s),this.removeEventListener(e,t)};return this.addEventListener(e,t)}prependEventListener(e,n){return this.eventListeners.has(e)?this.eventListeners.get(e).unshift(n):this.eventListeners.set(e,[n]),this}prependOnceListener(e,n){let t=s=>{n(s),this.removeEventListener(e,t)};return this.prependEventListener(e,t)}emit(e,n){return this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(t=>t(n)),this}},te=class{constructor(e){this.pid=e}async write(e){return await r({__millenniumModule:"Shell",message:{cmd:"stdinWrite",pid:this.pid,buffer:typeof e=="string"?e:Array.from(e)}})}async kill(){return await r({__millenniumModule:"Shell",message:{cmd:"killChild",pid:this.pid}})}},d=class extends S{constructor(n,t=[],s={}){super();this.program=n;u(this,"args");u(this,"options");u(this,"stdout",new S);u(this,"stderr",new S);this.args=typeof t=="string"?[t]:t,this.options=s}static sidecar(n,t=[],s){let a=new d(n,t,s);return a.options.sidecar=!0,a}async spawn(){let t=await zi(({event:s,payload:a})=>{switch(s){case"Error":this.emit("error",a);break;case"Terminated":this.emit("close",a);break;case"Stdout":this.stdout.emit("data",a);break;case"Stderr":this.stderr.emit("data",a);break}},this.program,this.args,this.options);return new te(t)}execute(){return new Promise((n,t)=>{this.on("error",t);let s=[],a=[];this.stdout.on("data",l=>s.push(l)),this.stderr.on("data",l=>a.push(l)),this.on("close",l=>{n({code:l.code,signal:l.signal,stdout:s.join(`
`),stderr:a.join(`
`)})}),this.spawn().catch(t)})}};async function Wi(i,e){return await r({__millenniumModule:"Shell",message:{cmd:"open",path:i,with:e}})}async function Hi(i,e=[],n={}){return await new d(i,e,n).execute()}async function qi(i,e=[],n={}){return await d.sidecar(i,e,n).execute()}async function Gi(i,e=[],n={}){return await new d(i,e,n).spawn()}async function Vi(i,e=[],n={}){return await d.sidecar(i,e,n).spawn()}async function Bi(i){if(y())await new d("explorer",["/select,",i]).execute();else if(Q())await new d("dbus-send",["--session","--print-reply","--dest=org.freedesktop.FileManager1","--type=method_call","/org/freedesktop/FileManager1","org.freedesktop.FileManager1.ShowItems",`array:string:"file://${i}"`,'string:""']).execute();else if(Z())await new d("open",["-R",i]).execute();else throw new Error("Unsupported platform")}var J={};c(J,{checkForUpdates:()=>ji,installUpdate:()=>Yi});function Yi(){let i;function e(){i==null||i(),i=void 0}return new Promise((n,t)=>{function s(a){if(a.error)return e(),t(a.error);if(a.status==="DONE")return e(),n()}T("millennium://update-status",null,a=>{s(a==null?void 0:a.payload)}).then(a=>i=a).catch(a=>{throw e(),a}),_("millennium://update-install").catch(a=>{throw e(),a})})}function ji(){let i;function e(){i==null||i(),i=void 0}return new Promise((n,t)=>{function s(l){return e(),n({manifest:l,shouldUpdate:!0})}function a(l){if(l.error)return e(),t(l.error);if(l.status==="UPTODATE")return e(),n({shouldUpdate:!1})}F("millennium://update-available",null,l=>{s(l==null?void 0:l.payload)}).catch(l=>{throw e(),l}),_("millennium://update").catch(l=>{throw e(),l})})}var E={};c(E,{LogicalPosition:()=>O,LogicalSize:()=>A,PhysicalPosition:()=>x,PhysicalSize:()=>P,UserAttentionType:()=>X,WebviewWindow:()=>f,appWindow:()=>L,availableMonitors:()=>Ki,currentMonitor:()=>Ji,getAllWindows:()=>we,getCurrentWindow:()=>$i,primaryMonitor:()=>Xi});var A=class{constructor(e,n){this.width=e;this.height=n;u(this,"TYPE","Logical")}},P=class{constructor(e,n){this.width=e;this.height=n;u(this,"TYPE","Physical")}toLogical(e){return new A(this.width/e,this.height/e)}},O=class{constructor(e,n){this.x=e;this.y=n;u(this,"TYPE","Logical")}},x=class{constructor(e,n){this.x=e;this.y=n;u(this,"TYPE","Physical")}toLogical(e){return new O(this.x/e,this.y/e)}};function ye(i){if(!i||i.TYPE!=="Logical"&&i.TYPE!=="Physical")throw new Error("Invalid position! Must be an instance of `LogicalPosition` or `PhysicalPosition`.")}function re(i){if(!i||i.TYPE!=="Logical"&&i.TYPE!=="Physical")throw new Error("Invalid size! Must be an instance of `LogicalSize` or `PhysicalSize`.")}var X=(n=>(n[n.CRITICAL=1]="CRITICAL",n[n.INFORMATIONAL=2]="INFORMATIONAL",n))(X||{});function $i(){return new f(window.__MILLENNIUM_METADATA__.__currentWindow.label,{skip:!0})}function we(){return window.__MILLENNIUM_METADATA__.__windows.map(({label:i})=>new f(i,{skip:!0}))}var he=["millennium://created","millennium://error"],se=class{constructor(e){this.label=e;u(this,"listeners",new Map)}async listen(e,n){if(this.handleMillenniumEvent(e,n)){let t=this.listeners.get(e);return t==null||t.splice(t.indexOf(n),1),()=>{}}return await T(e,this.label,n)}async once(e,n){if(this.handleMillenniumEvent(e,n)){let t=this.listeners.get(e);return t.splice(t.indexOf(n),1),()=>{}}return await F(e,this.label,n)}async emit(e,n){var t;if(he.includes(e)){for(let s of(t=this.listeners.get(e))!=null?t:[])s({event:e,id:-1,windowLabel:this.label,payload:n});return}return await _(e,this.label,n)}handleMillenniumEvent(e,n){return he.includes(e)?(this.listeners.has(e)?this.listeners.get(e).push(n):this.listeners.set(e,[n]),!0):!1}},oe=class extends se{async _manage(e,n){return await r({__millenniumModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:p({type:e},n!==void 0?{payload:n}:{})}}})}async scaleFactor(){return await this._manage("scaleFactor")}async innerPosition(){return await this._manage("position").then(({x:e,y:n})=>new x(e,n))}async outerPosition(){return await this._manage("outerPosition").then(({x:e,y:n})=>new x(e,n))}async innerSize(){return await this._manage("innerSize").then(({width:e,height:n})=>new P(e,n))}async outerSize(){return await this._manage("outerSize").then(({width:e,height:n})=>new P(e,n))}async isFullscreen(){return await this._manage("isFullscreen")}async isMaximized(){return await this._manage("isMaximized")}async isDecorated(){return await this._manage("isDecorated")}async isResizable(){return await this._manage("isResizable")}async isVisible(){return await this._manage("isVisible")}async theme(){return await this._manage("theme")}async center(){return await this._manage("center")}async requestUserAttention(e=null){return await this._manage("requestUserAttention",e===1?{type:"Critical"}:e===2?{type:"Informational"}:null)}async setResizable(e){return await this._manage("setResizable",e)}async setTitle(e){return await this._manage("setTitle",e)}async maximize(){return await this._manage("maximize")}async unmaximize(){return await this._manage("unmaximize")}async toggleMaximized(){return await this._manage("toggleMaximized")}async minimize(){return await this._manage("minimize")}async unminimize(){return await this._manage("unminimize")}async show(){return await this._manage("show")}async hide(){return await this._manage("hide")}async close(){return await this._manage("close")}async setDecorations(e){return await this._manage("setDecorations",e)}async setAlwaysOnTop(e){return await this._manage("setAlwaysOnTop",e)}async setSize(e){return re(e),await this._manage("setSize",{type:e.TYPE,data:{width:e.width,height:e.height}})}async setMinimumSize(e=null){return e&&re(e),await this._manage("setMinSize",e===null?null:{type:e.TYPE,data:{width:e.width,height:e.height}})}async setMaximumSize(e=null){return e&&re(e),await this._manage("setMaxSize",e===null?null:{type:e.TYPE,data:{width:e.width,height:e.height}})}async setPosition(e){return ye(e),await this._manage("setPosition",{type:e.TYPE,data:{x:e.x,y:e.y}})}async setFullscreen(e){return await this._manage("setFullscreen",e)}async focus(){return await this._manage("setFocus")}async setIcon(e){return await this._manage("setIcon",{icon:typeof e=="string"?e:Array.from(e)})}async setShowInTaskbar(e=!0){return await this._manage("setSkipTaskbar",e)}async setCursorGrab(e){return await this._manage("setCursorGrab",e)}async setCursorVisible(e){return await this._manage("setCursorVisible",e)}async setCursorIcon(e){return await this._manage("setCursorIcon",e)}async setCursorPosition(e){return ye(e),await this._manage("setCursorPosition",{type:e.TYPE,data:{x:e.x,y:e.y}})}async startDragging(){return await this._manage("startDragging")}},f=class extends oe{constructor(e,n={}){super(e),n.skip||r({__millenniumModule:"Window",message:{cmd:"createWebview",data:{options:p({label:e},n)}}}).then(async()=>this.emit("millennium://created")).catch(async t=>this.emit("millennium://error",t))}static getByLabel(e){return we().some(n=>n.label===e)?new f(e,{skip:!0}):null}},L;"__MILLENNIUM_METADATA__"in window?L=new f(window.__MILLENNIUM_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find __MILLENNIUM_METADATA__. The "appWindow" value will reference the window with the "main" label.
This is not an issue if you are running this frontend in a browser instead of a Millennium window.`),L=new f("main",{skip:!0}));async function Ji(){return await r({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})}async function Xi(){return r({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})}async function Ki(){return await r({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})}return Me(Qi);})();
;Object.defineProperty(window,"Millennium",{value:Millennium,writable:false,configurable:false,enumerable:true});function _DF(e){const d=Object.getOwnPropertyNames(e);for(const g of d)if(typeof e[g]=="object")_DF(e[g]);Object.freeze(e)}_DF(window.Millennium);
