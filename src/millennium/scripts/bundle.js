"use strict";var Millennium=(()=>{var U=Object.defineProperty,he=Object.defineProperties,we=Object.getOwnPropertyDescriptor,be=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertyNames,se=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var J=(n,e,i)=>e in n?U(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,p=(n,e)=>{for(var i in e||(e={}))oe.call(e,i)&&J(n,i,e[i]);if(se)for(var i of se(e))xe.call(e,i)&&J(n,i,e[i]);return n},w=(n,e)=>he(n,be(e));var c=(n,e)=>{for(var i in e)U(n,i,{get:e[i],enumerable:!0})},ve=(n,e,i,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Pe(e))!oe.call(n,r)&&r!==i&&U(n,r,{get:()=>e[r],enumerable:!(t=we(e,r))||t.enumerable});return n};var _e=n=>ve(U({},"__esModule",{value:!0}),n);var u=(n,e,i)=>(J(n,typeof e!="symbol"?e+"":e,i),i);var Vn={};c(Vn,{BaseDirectory:()=>C,LogicalPosition:()=>E,LogicalSize:()=>M,PhysicalPosition:()=>x,PhysicalSize:()=>P,UserAttentionType:()=>j,WebviewWindow:()=>f,app:()=>N,appWindow:()=>S,cli:()=>v,clipboard:()=>z,commandLine:()=>v,convertFileSrc:()=>ae,event:()=>D,fileSystem:()=>A,fs:()=>A,globalShortcut:()=>W,http:()=>q,invoke:()=>I,millennium:()=>R,os:()=>V,path:()=>B,platform:()=>k,process:()=>G,shell:()=>Y,transformCallback:()=>g,updater:()=>$,window:()=>O,windows:()=>O});var N={};c(N,{getMillenniumVersion:()=>Ee,getName:()=>Me,getVersion:()=>Ae});var R={};c(R,{convertFileSrc:()=>ae,invoke:()=>I,transformCallback:()=>g});var k={};c(k,{isLinux:()=>X,isMacOS:()=>K,isWindows:()=>y});function X(){var n,e;return/linux/i.test((e=(n=navigator.userAgentData)==null?void 0:n.platform)!=null?e:navigator.userAgent)}function y(){var n,e;return/win/i.test((e=(n=navigator.userAgentData)==null?void 0:n.platform)!=null?e:navigator.userAgent)}function K(){var n,e;return/macintosh/i.test((e=(n=navigator.userAgentData)==null?void 0:n.platform)!=null?e:navigator.userAgent)}function Te(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function g(n,e=!1){let i=Te(),t=`_${i}`;return Object.defineProperty(window,t,{value:r=>(e&&delete window[t],n==null?void 0:n(r)),writable:!0,enumerable:!1,configurable:!0}),i}async function I(n,e={}){return new Promise((i,t)=>{let r=g(l=>{i(l),delete window[`_${a}`]},!0),a=g(l=>{t(new Error(l)),delete window[`_${r}`]},!0);window.__MILLENNIUM_IPC__(p({cmd:n,callback:r,error:a},e))})}function ae(n,e="asset"){let i=encodeURIComponent(n);return y()?`https://${e}.localhost/${i}`:`${e}://${i}`}async function s(n){return I("millennium",n)}async function Ae(){return s({__millenniumModule:"App",message:{cmd:"getAppVersion"}})}async function Me(){return s({__millenniumModule:"App",message:{cmd:"getAppName"}})}async function Ee(){return s({__millenniumModule:"App",message:{cmd:"getMillenniumVersion"}})}var v={};c(v,{getMatches:()=>Oe});async function Oe(){return await s({__millenniumModule:"Cli",message:{cmd:"cliMatches"}})}var z={};c(z,{readText:()=>Ce,writeText:()=>Fe});async function Fe(n){return s({__millenniumModule:"Clipboard",message:{cmd:"writeText",data:n}})}async function Ce(){return s({__millenniumModule:"Clipboard",message:{cmd:"readText",data:null}})}var D={};c(D,{emit:()=>_,listen:()=>T,once:()=>F});async function le(n,e){return s({__millenniumModule:"Event",message:{cmd:"unlisten",event:n,eventId:e}})}async function _(n,e,i){await s({__millenniumModule:"Event",message:{cmd:"emit",event:n,windowLabel:e,payload:typeof i=="string"?i:JSON.stringify(i)}})}async function T(n,e,i){let t=await s({__millenniumModule:"Event",message:{cmd:"listen",event:n,windowLabel:e,handler:g(i)}});return async()=>le(n,t)}async function F(n,e,i){return T(n,e,t=>{i(t),le(n,t.id).catch(()=>{})})}var A={};c(A,{BaseDirectory:()=>C,copyFile:()=>Re,exists:()=>De,mkdir:()=>ke,readBinaryFile:()=>me,readFile:()=>Le,readTextFile:()=>ue,readdir:()=>Ue,removeFile:()=>Ne,rename:()=>ze,rmdir:()=>Ie,writeBinaryFile:()=>Q,writeFile:()=>Se,writeTextFile:()=>ce});var C=(o=>(o[o.AUDIO=1]="AUDIO",o[o.CACHE=2]="CACHE",o[o.CONFIG=3]="CONFIG",o[o.DATA=4]="DATA",o[o.LOCALDATA=5]="LOCALDATA",o[o.DESKTOP=6]="DESKTOP",o[o.DOCUMENT=7]="DOCUMENT",o[o.DOWNLOAD=8]="DOWNLOAD",o[o.EXECUTABLE=9]="EXECUTABLE",o[o.FONT=10]="FONT",o[o.HOME=11]="HOME",o[o.PICTURES=12]="PICTURES",o[o.PUBLIC=13]="PUBLIC",o[o.RUNTIME=14]="RUNTIME",o[o.TEMPLATES=15]="TEMPLATES",o[o.VIDEOS=16]="VIDEOS",o[o.RESOURCE=17]="RESOURCE",o[o.APP=18]="APP",o[o.LOG=19]="LOG",o[o.TEMP=20]="TEMP",o))(C||{});async function ue(n,e={}){return await s({__millenniumModule:"Fs",message:{cmd:"readTextFile",path:n,options:e}})}async function me(n,e={}){return await s({__millenniumModule:"Fs",message:{cmd:"readFile",path:n,options:e}})}async function Le(n,e,i={}){switch(typeof e!="string"&&(i=e,e="binary"),e){case"utf8":case"utf-8":return await ue(n,i);case"binary":return await me(n,i);default:throw new Error(`Unsupported encoding: '${e}'. Consider reading as binary and using \`TextDecoder\`.`)}}async function ce(n,e,i){let t={path:"",contents:""},r=i;return typeof n=="string"?t.path=n:(t.path=n.path,t.contents=n.contents),typeof e=="string"?t.contents=e!=null?e:"":r=e,await s({__millenniumModule:"Fs",message:{cmd:"writeTextFile",path:t.path,contents:Array.from(new TextEncoder().encode(t.contents)),options:r}})}async function Q(n,e,i){let t={path:"",contents:[]},r=i;return typeof n=="string"?t.path=n:(t.path=n.path,t.contents=n.contents),e&&"dir"in e?r=e:typeof n=="string"&&(t.contents=e!=null?e:[]),await s({__millenniumModule:"Fs",message:{cmd:"writeFile",path:t.path,contents:Array.from(t.contents instanceof ArrayBuffer||t.contents instanceof SharedArrayBuffer?new Uint8Array(t.contents):t.contents),options:r}})}async function Se(n,e,i){if(typeof e=="string")return await ce({path:n,contents:e},i);if(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer)return await Q({path:n,contents:Array.from(new Uint8Array(e))},i);if([DataView,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array].some(t=>e instanceof t)||typeof Float64Array<"u"&&e instanceof Float64Array||typeof BigInt64Array<"u"&&e instanceof BigInt64Array||typeof BigUint64Array<"u"&&e instanceof BigUint64Array)return await Q({path:n,contents:Array.from(new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)))},i);throw new Error(`Unsupported contents type: '${{}.toString.call(e)}'.`)}var b=(n,e)=>s({__millenniumModule:"Fs",message:p({cmd:n},e)});async function Ue(n,e={}){return await b("readDir",{path:n,options:e})}async function ke(n,e={}){return await b("createDir",{path:n,options:e})}async function Ie(n,e={}){return await b("removeDir",{path:n,options:e})}async function Re(n,e,i={}){return await b("copyFile",{source:n,destination:e,options:i})}async function Ne(n,e={}){return await b("removeFile",{path:n,options:e})}async function ze(n,e,i={}){return await b("rename",{oldPath:n,newPath:e,options:i})}async function De(n,e={}){return await b("exists",{path:n,options:e})}var W={};c(W,{isRegistered:()=>qe,register:()=>We,registerAll:()=>He,unregister:()=>Ve,unregisterAll:()=>Be});async function We(n,e){return await s({__millenniumModule:"GlobalShortcut",message:{cmd:"register",shortcut:n,handler:g(e)}})}async function He(n,e){return await s({__millenniumModule:"GlobalShortcut",message:{cmd:"registerAll",shortcuts:n,handler:g(e)}})}async function qe(n){return await s({__millenniumModule:"GlobalShortcut",message:{cmd:"isRegistered",shortcut:n}})}async function Ve(n){return await s({__millenniumModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:n}})}async function Be(){return await s({__millenniumModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}var q={};c(q,{Body:()=>h,Response:()=>H,ResponseType:()=>pe,createClient:()=>de,fetch:()=>Ge});var pe=(t=>(t[t.JSON=1]="JSON",t[t.TEXT=2]="TEXT",t[t.BINARY=3]="BINARY",t))(pe||{}),h=class{constructor(e,i){this.type=e;this.payload=i}static form(e){let i={};for(let t in e){let r=e[t];i[t]=typeof r=="string"?r:r instanceof Uint8Array||Array.isArray(r)?Array.from(r):typeof r.file=="string"?{file:r.file,mime:r.mime,fileName:r.fileName}:{file:Array.from(r.file),mime:r.mime,fileName:r.fileName}}return new h("Form",i)}static json(e){return new h("Json",e)}static text(e){return new h("Text",e)}static binary(e){return new h("Bytes",Array.from(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?new Uint8Array(e):e))}},H=class{constructor(e){u(this,"url");u(this,"status");u(this,"ok");u(this,"headers");u(this,"rawHeaders");u(this,"data");this.url=e.url,this.status=e.status,this.ok=e.status>=200&&e.status<300,this.headers=e.headers,this.rawHeaders=e.rawHeaders,this.data=e.data}},ee=class{constructor(e){this.id=e}async drop(){return s({__millenniumModule:"Http",message:{cmd:"dropClient",client:this.id}})}async request(e){let i=!e.responseType||e.responseType===1;i&&(e.responseType=2);let t=await s({__millenniumModule:"Http",message:{cmd:"httpRequest",client:this.id,options:e}}),r=new H(t);if(i)try{r.data=JSON.parse(r.data)}catch(a){if(r.ok&&r.data==="")r.data={};else if(r.ok)throw new Error(`Failed to parse response body (\`${r.data}\`): ${a}
Try setting the responseType to a different type if the API doesn't return JSON.`)}return r}async get(e,i){return this.request(w(p({},i),{method:"GET",url:e}))}async post(e,i,t){return this.request(w(p({},t),{method:"POST",body:i,url:e}))}async put(e,i,t){return this.request(w(p({},t),{method:"PUT",body:i,url:e}))}async patch(e,i){return this.request(w(p({},i),{method:"PATCH",url:e}))}async delete(e,i){return this.request(w(p({},i),{method:"DELETE",url:e}))}};async function de(n){let e=await s({__millenniumModule:"Http",message:{cmd:"createClient",options:n}});return new ee(e)}var Z=null;async function Ge(n,e){var i;return Z||(Z=await de()),Z.request(w(p({},e),{url:n,method:(i=e==null?void 0:e.method)!=null?i:"GET"}))}var V={};c(V,{arch:()=>Xe,eol:()=>Ye,platform:()=>$e,tmpdir:()=>Ke,type:()=>Je,version:()=>je});var Ye=y()?`\r
`:`
`;async function $e(){return s({__millenniumModule:"Os",message:{cmd:"platform"}})}async function je(){return s({__millenniumModule:"Os",message:{cmd:"version"}})}async function Je(){return s({__millenniumModule:"Os",message:{cmd:"type"}})}async function Xe(){return s({__millenniumModule:"Os",message:{cmd:"arch"}})}async function Ke(){return s({__millenniumModule:"Os",message:{cmd:"tempdir"}})}var B={};c(B,{appDir:()=>Qe,audioDir:()=>Ze,basename:()=>Mn,cacheDir:()=>en,configDir:()=>nn,dataDir:()=>tn,delimiter:()=>bn,desktopDir:()=>rn,dirname:()=>Tn,documentsDir:()=>sn,downloadsDir:()=>on,executableDir:()=>an,extname:()=>An,fontDir:()=>ln,homeDir:()=>un,isAbsolute:()=>En,join:()=>_n,localDataDir:()=>mn,logDir:()=>hn,normalize:()=>vn,pictureDir:()=>cn,publicDir:()=>pn,resolve:()=>Pn,resolveResource:()=>xn,resourceDir:()=>dn,runtimeDir:()=>gn,sep:()=>wn,templateDir:()=>fn,videosDir:()=>yn});var m=async n=>await s({__millenniumModule:"Path",message:{cmd:"resolvePath",path:"",directory:n}});async function Qe(){return m(18)}async function Ze(){return m(1)}async function en(){return m(2)}async function nn(){return m(3)}async function tn(){return m(4)}async function rn(){return m(6)}async function sn(){return m(7)}async function on(){return m(8)}async function an(){return m(9)}async function ln(){return m(10)}async function un(){return m(11)}async function mn(){return m(5)}async function cn(){return m(12)}async function pn(){return m(13)}async function dn(){return m(17)}async function gn(){return m(14)}async function fn(){return m(15)}async function yn(){return m(16)}async function hn(){return m(19)}var wn=y()?"\\":"/",bn=y()?";":":";async function Pn(...n){return s({__millenniumModule:"Path",message:{cmd:"resolve",paths:n}})}async function xn(n){return s({__millenniumModule:"Path",message:{cmd:"resolvePath",path:n,directory:17}})}async function vn(n){return s({__millenniumModule:"Path",message:{cmd:"normalize",path:n}})}async function _n(...n){return s({__millenniumModule:"Path",message:{cmd:"join",paths:n}})}async function Tn(n){return s({__millenniumModule:"Path",message:{cmd:"dirname",path:n}})}async function An(n){return s({__millenniumModule:"Path",message:{cmd:"extname",path:n}})}async function Mn(n,e){return s({__millenniumModule:"Path",message:{cmd:"basename",path:n,ext:e}})}async function En(n){return s({__millenniumModule:"Path",message:{cmd:"isAbsolute",path:n}})}var G={};c(G,{exit:()=>On,relaunch:()=>Fn});async function On(n=0){await s({__millenniumModule:"Process",message:{cmd:"exit",exitCode:n}})}async function Fn(){await s({__millenniumModule:"Process",message:{cmd:"relaunch"}})}var Y={};c(Y,{Command:()=>d,exec:()=>Sn,execSidecar:()=>Un,open:()=>Ln,showItemInFolder:()=>Rn,spawn:()=>kn,spawnSidecar:()=>In});async function Cn(n,e,i=[],t){return typeof i=="object"&&Object.freeze(i),s({__millenniumModule:"Shell",message:{cmd:"execute",program:e,args:i,options:t,onEventFn:g(n)}})}var L=class{constructor(){u(this,"eventListeners",new Map)}addEventListener(e,i){return this.eventListeners.has(e)?this.eventListeners.get(e).push(i):this.eventListeners.set(e,[i]),this}removeEventListener(e,i){if(this.eventListeners.has(e)){let t=this.eventListeners.get(e),r=t.indexOf(i);r>=0&&t.splice(r,1)}return this}on(e,i){return this.addEventListener(e,i)}off(e,i){return this.removeEventListener(e,i)}once(e,i){let t=r=>{i(r),this.removeEventListener(e,t)};return this.addEventListener(e,t)}prependEventListener(e,i){return this.eventListeners.has(e)?this.eventListeners.get(e).unshift(i):this.eventListeners.set(e,[i]),this}prependOnceListener(e,i){let t=r=>{i(r),this.removeEventListener(e,t)};return this.prependEventListener(e,t)}emit(e,i){return this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(t=>t(i)),this}},ne=class{constructor(e){this.pid=e}async write(e){return await s({__millenniumModule:"Shell",message:{cmd:"stdinWrite",pid:this.pid,buffer:typeof e=="string"?e:Array.from(e)}})}async kill(){return await s({__millenniumModule:"Shell",message:{cmd:"killChild",pid:this.pid}})}},d=class extends L{constructor(i,t=[],r={}){super();this.program=i;u(this,"args");u(this,"options");u(this,"stdout",new L);u(this,"stderr",new L);this.args=typeof t=="string"?[t]:t,this.options=r}static sidecar(i,t=[],r){let a=new d(i,t,r);return a.options.sidecar=!0,a}async spawn(){let t=await Cn(({event:r,payload:a})=>{switch(r){case"Error":this.emit("error",a);break;case"Terminated":this.emit("close",a);break;case"Stdout":this.stdout.emit("data",a);break;case"Stderr":this.stderr.emit("data",a);break}},this.program,this.args,this.options);return new ne(t)}execute(){return new Promise((i,t)=>{this.on("error",t);let r=[],a=[];this.stdout.on("data",l=>r.push(l)),this.stderr.on("data",l=>a.push(l)),this.on("close",l=>{i({code:l.code,signal:l.signal,stdout:r.join(`
`),stderr:a.join(`
`)})}),this.spawn().catch(t)})}};async function Ln(n,e){return await s({__millenniumModule:"Shell",message:{cmd:"open",path:n,with:e}})}async function Sn(n,e=[],i={}){return await new d(n,e,i).execute()}async function Un(n,e=[],i={}){return await d.sidecar(n,e,i).execute()}async function kn(n,e=[],i={}){return await new d(n,e,i).spawn()}async function In(n,e=[],i={}){return await d.sidecar(n,e,i).spawn()}async function Rn(n){if(y())await new d("explorer",["/select,",n]).execute();else if(X())await new d("dbus-send",["--session","--print-reply","--dest=org.freedesktop.FileManager1","--type=method_call","/org/freedesktop/FileManager1","org.freedesktop.FileManager1.ShowItems",`array:string:"file://${n}"`,'string:""']).execute();else if(K())await new d("open",["-R",n]).execute();else throw new Error("Unsupported platform")}var $={};c($,{checkForUpdates:()=>zn,installUpdate:()=>Nn});function Nn(){let n;function e(){n==null||n(),n=void 0}return new Promise((i,t)=>{function r(a){if(a.error)return e(),t(a.error);if(a.status==="DONE")return e(),i()}T("millennium://update-status",null,a=>{r(a==null?void 0:a.payload)}).then(a=>n=a).catch(a=>{throw e(),a}),_("millennium://update-install").catch(a=>{throw e(),a})})}function zn(){let n;function e(){n==null||n(),n=void 0}return new Promise((i,t)=>{function r(l){return e(),i({manifest:l,shouldUpdate:!0})}function a(l){if(l.error)return e(),t(l.error);if(l.status==="UPTODATE")return e(),i({shouldUpdate:!1})}F("millennium://update-available",null,l=>{r(l==null?void 0:l.payload)}).catch(l=>{throw e(),l}),_("millennium://update").catch(l=>{throw e(),l})})}var O={};c(O,{LogicalPosition:()=>E,LogicalSize:()=>M,PhysicalPosition:()=>x,PhysicalSize:()=>P,UserAttentionType:()=>j,WebviewWindow:()=>f,appWindow:()=>S,availableMonitors:()=>qn,currentMonitor:()=>Wn,getAllWindows:()=>ye,getCurrentWindow:()=>Dn,primaryMonitor:()=>Hn});var M=class{constructor(e,i){this.width=e;this.height=i;u(this,"TYPE","Logical")}},P=class{constructor(e,i){this.width=e;this.height=i;u(this,"TYPE","Physical")}toLogical(e){return new M(this.width/e,this.height/e)}},E=class{constructor(e,i){this.x=e;this.y=i;u(this,"TYPE","Logical")}},x=class{constructor(e,i){this.x=e;this.y=i;u(this,"TYPE","Physical")}toLogical(e){return new E(this.x/e,this.y/e)}};function ge(n){if(!n||n.TYPE!=="Logical"&&n.TYPE!=="Physical")throw new Error("Invalid position! Must be an instance of `LogicalPosition` or `PhysicalPosition`.")}function ie(n){if(!n||n.TYPE!=="Logical"&&n.TYPE!=="Physical")throw new Error("Invalid size! Must be an instance of `LogicalSize` or `PhysicalSize`.")}var j=(i=>(i[i.CRITICAL=1]="CRITICAL",i[i.INFORMATIONAL=2]="INFORMATIONAL",i))(j||{});function Dn(){return new f(window.__MILLENNIUM_METADATA__.__currentWindow.label,{skip:!0})}function ye(){return window.__MILLENNIUM_METADATA__.__windows.map(({label:n})=>new f(n,{skip:!0}))}var fe=["millennium://created","millennium://error"],te=class{constructor(e){this.label=e;u(this,"listeners",new Map)}async listen(e,i){if(this.handleMillenniumEvent(e,i)){let t=this.listeners.get(e);return t==null||t.splice(t.indexOf(i),1),()=>{}}return await T(e,this.label,i)}async once(e,i){if(this.handleMillenniumEvent(e,i)){let t=this.listeners.get(e);return t.splice(t.indexOf(i),1),()=>{}}return await F(e,this.label,i)}async emit(e,i){var t;if(fe.includes(e)){for(let r of(t=this.listeners.get(e))!=null?t:[])r({event:e,id:-1,windowLabel:this.label,payload:i});return}return await _(e,this.label,i)}handleMillenniumEvent(e,i){return fe.includes(e)?(this.listeners.has(e)?this.listeners.get(e).push(i):this.listeners.set(e,[i]),!0):!1}},re=class extends te{async _manage(e,i){return await s({__millenniumModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:p({type:e},i!==void 0?{payload:i}:{})}}})}async scaleFactor(){return await this._manage("scaleFactor")}async innerPosition(){return await this._manage("position").then(({x:e,y:i})=>new x(e,i))}async outerPosition(){return await this._manage("outerPosition").then(({x:e,y:i})=>new x(e,i))}async innerSize(){return await this._manage("innerSize").then(({width:e,height:i})=>new P(e,i))}async outerSize(){return await this._manage("outerSize").then(({width:e,height:i})=>new P(e,i))}async isFullscreen(){return await this._manage("isFullscreen")}async isMaximized(){return await this._manage("isMaximized")}async isDecorated(){return await this._manage("isDecorated")}async isResizable(){return await this._manage("isResizable")}async isVisible(){return await this._manage("isVisible")}async theme(){return await this._manage("theme")}async center(){return await this._manage("center")}async requestUserAttention(e=null){return await this._manage("requestUserAttention",e===1?{type:"Critical"}:e===2?{type:"Informational"}:null)}async setResizable(e){return await this._manage("setResizable",e)}async setTitle(e){return await this._manage("setTitle",e)}async maximize(){return await this._manage("maximize")}async unmaximize(){return await this._manage("unmaximize")}async toggleMaximized(){return await this._manage("toggleMaximized")}async minimize(){return await this._manage("minimize")}async unminimize(){return await this._manage("unminimize")}async show(){return await this._manage("show")}async hide(){return await this._manage("hide")}async close(){return await this._manage("close")}async setDecorations(e){return await this._manage("setDecorations",e)}async setAlwaysOnTop(e){return await this._manage("setAlwaysOnTop",e)}async setSize(e){return ie(e),await this._manage("setSize",{type:e.TYPE,data:{width:e.width,height:e.height}})}async setMinimumSize(e=null){return e&&ie(e),await this._manage("setMinSize",e===null?null:{type:e.TYPE,data:{width:e.width,height:e.height}})}async setMaximumSize(e=null){return e&&ie(e),await this._manage("setMaxSize",e===null?null:{type:e.TYPE,data:{width:e.width,height:e.height}})}async setPosition(e){return ge(e),await this._manage("setPosition",{type:e.TYPE,data:{x:e.x,y:e.y}})}async setFullscreen(e){return await this._manage("setFullscreen",e)}async focus(){return await this._manage("setFocus")}async setIcon(e){return await this._manage("setIcon",{icon:typeof e=="string"?e:Array.from(e)})}async setShowInTaskbar(e=!0){return await this._manage("setSkipTaskbar",e)}async setCursorGrab(e){return await this._manage("setCursorGrab",e)}async setCursorVisible(e){return await this._manage("setCursorVisible",e)}async setCursorIcon(e){return await this._manage("setCursorIcon",e)}async setCursorPosition(e){return ge(e),await this._manage("setCursorPosition",{type:e.TYPE,data:{x:e.x,y:e.y}})}async startDragging(){return await this._manage("startDragging")}},f=class extends re{constructor(e,i={}){super(e),i.skip||s({__millenniumModule:"Window",message:{cmd:"createWebview",data:{options:p({label:e},i)}}}).then(async()=>this.emit("millennium://created")).catch(async t=>this.emit("millennium://error",t))}static getByLabel(e){return ye().some(i=>i.label===e)?new f(e,{skip:!0}):null}},S;"__MILLENNIUM_METADATA__"in window?S=new f(window.__MILLENNIUM_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find __MILLENNIUM_METADATA__. The "appWindow" value will reference the window with the "main" label.
This is not an issue if you are running this frontend in a browser instead of a Millennium window.`),S=new f("main",{skip:!0}));async function Wn(){return await s({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})}async function Hn(){return s({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})}async function qn(){return await s({__millenniumModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})}return _e(Vn);})();
;Object.defineProperty(window,"Millennium",{value:Millennium,writable:false,configurable:false,enumerable:true});function _DF(e){const d=Object.getOwnPropertyNames(e);for(const g of d)if(typeof e[g]=="object")_DF(e[g]);Object.freeze(e)}_DF(window.Millennium);
